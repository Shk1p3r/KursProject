<h2>Список студентов</h2>
<a *ngIf="hasRole('DIRECTOR')" routerLink="/students/new"><i class="fas fa-plus"></i> Добавить нового студента</a>
<button  (click)="logout()">Выйти</button>
<button (click)="goHome()">На главную</button>
<div class="filter-container">
  <label>ФИО:</label>
  <input [(ngModel)]="filterFio" name="fio" />
  <label>Телефон:</label>
  <input [(ngModel)]="filterPhone" name="phone" />
  <label>Группа:</label>
  <input [(ngModel)]="filterGroupNumber" name="groupNumber" />
  <label>Дата рождения:</label>
  <input type="date" [(ngModel)]="filterDateOfBirth" name="dateOfBirth" />
  <button (click)="searchStudents()"><i class="fas fa-search"></i> Поиск</button>
  <button (click)="loadStudents()"><i class="fas fa-sync"></i> Сбросить</button>
</div>

<div class="list-container">
  <li *ngFor="let student of students" class="list-item">
    <div><strong>ФИО:</strong> {{ student.fio }}</div>
    <div><strong>Телефон:</strong> {{ student.phone }}</div>
    <div><strong>Группа:</strong> {{ student.groupNumber }}</div>
    <div><strong>Дата рождения:</strong> {{ student.dateOfBirth }}</div>

    <div><strong>Экзамены:</strong></div>
    <div *ngFor="let exam of student.exams" class="nested-item">
      {{ exam.date }} - {{ exam.typeOfExams }} - {{ exam.result }}
    </div>
    <div *ngIf="!student.exams || student.exams.length === 0">
      <div>Нет экзаменов</div>
    </div>
    <div><strong>Уроки:</strong></div>
    <div *ngFor="let lesson of student.lessons" class="nested-item">
      {{ lesson.startDate }} - {{ lesson.endDate }}
    </div>
    <div *ngIf="!student.lessons || student.lessons.length === 0">
      <div>Нет уроков</div>
    </div>
    <button *ngIf="hasRole('DIRECTOR') " (click)="deleteStudent(student.id)"><i class="fas fa-trash"></i> Удалить</button>
    <button *ngIf="hasRole('DIRECTOR') || hasRole('INSTRUCTOR')" (click)="editStudent(student.id)"><i class="fas fa-edit"></i> Редактировать</button>
  </li>
</div>
